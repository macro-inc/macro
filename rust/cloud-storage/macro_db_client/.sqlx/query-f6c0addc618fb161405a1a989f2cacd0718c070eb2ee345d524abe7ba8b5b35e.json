{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                sp.id as id,\n                sp.\"isPublic\" as is_public,\n                sp.\"publicAccessLevel\" as \"public_access_level?\",\n                p.\"userId\" as owner,\n                COALESCE(\n                    json_agg(json_build_object(\n                        'channel_id', csp.\"channel_id\",\n                        'access_level', csp.\"access_level\"\n                    )) FILTER (WHERE csp.\"channel_id\" IS NOT NULL),\n                    '[]'\n                ) as \"channel_share_permissions?\"\n            FROM\n                \"ProjectPermission\" pp\n            JOIN \"SharePermission\" sp ON pp.\"sharePermissionId\" = sp.id\n            JOIN \"Project\" p ON pp.\"projectId\" = p.id\n            LEFT JOIN \"ChannelSharePermission\" csp ON csp.\"share_permission_id\" = sp.id\n            WHERE\n                pp.\"projectId\" = $1\n            GROUP BY\n                sp.id, p.\"userId\"\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "id",
        "type_info": "Text"
      },
      {
        "ordinal": 1,
        "name": "is_public",
        "type_info": "Bool"
      },
      {
        "ordinal": 2,
        "name": "public_access_level?",
        "type_info": "Text"
      },
      {
        "ordinal": 3,
        "name": "owner",
        "type_info": "Text"
      },
      {
        "ordinal": 4,
        "name": "channel_share_permissions?",
        "type_info": "Json"
      }
    ],
    "parameters": {
      "Left": [
        "Text"
      ]
    },
    "nullable": [
      false,
      false,
      true,
      false,
      null
    ]
  },
  "hash": "f6c0addc618fb161405a1a989f2cacd0718c070eb2ee345d524abe7ba8b5b35e"
}
